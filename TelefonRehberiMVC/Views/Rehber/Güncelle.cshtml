@model Persons;

@{
    ViewData["Title"] = "Güncelle";
}

<h1>Güncelle</h1>
<form input type="submit" asp-controller="Rehber" asp-action="Güncelle" method="post">

    <input text="" asp-for="Id" hidden />

    <div class="form-group mb-3">
        <label for="exampleInputEmail1">Adı</label>
        <input type="text" class="form-control" asp-for="Ad" />
    </div>
    <div class="form-group mb-3">
        <label for="exampleInputEmail1">PhoneId</label>
        <input type="text"  disabled class="form-control"  asp-for="PhoneId"/>
    </div>
    <div class="form-group mb-3">
        <label for="exampleInputEmail1">Phones</label>
        <input type="text" class="form-control" asp-for="Phones.Numara" />
    </div>

  
    <label for="category">Departman:</label>
   
    <select id="category" asp-for="Departman" class="form-select" aria-label="Default select example">
        <option selected>Departman</option>
        <option value="1">Bilgi Sistemleri</option>
        <option value="2">İnsan Kaynakları</option>
        <option value="3">Operasyon</option>
        <option value="4">Mali İşler</option>
        <option value="5">Satış Pazarlama</option>
    </select>


    <label for="subCategory">Birim:</label>
    <select id="subCategory" asp-for="Birim" class="form-select" aria-label="Default select example">
        <option selected asp-for="Birim">Birim</option>    <!-- Başlangıçta boş olacak, çünkü henüz bir kategori seçilmedi. -->
    </select>
    <script>
        function updateSubCategories(selectedCategory) {
            var subCategoryDropdown = document.getElementById("subCategory");
            // Seçilen kategoriye göre alt kategorileri güncelle
            switch (selectedCategory) {
                case "1":
                    addOptionsToSubCategories(["Teknik Destek", "Sistem Destek", "Yazılım Geliştirme", "Raporlama ve Analiz"]);
                    break;
                case "2":
                    addOptionsToSubCategories(["Bodro ve Özlük İşleri", "İnsan Kaynakları ve Eğitim"]);
                    break;
                case "3":
                    addOptionsToSubCategories(["Aktarma ve Ulaştırma Operasyonları", "Operasyon", "Mikro ve Filo Operasyonları"]);
                    break;
                case "4":
                    addOptionsToSubCategories(["Muhasebe", "Finans ve Tahsilat"]);
                    break;
                case "5":
                    addOptionsToSubCategories(["Satış Destek", "Kurumsal İletişim"]);
                    break;
                default:
                    clearSubCategories(); // Varsayılan olarak boşalt
            }

            function addOptionsToSubCategories(subCategories) {
                subCategoryDropdown.innerHTML = ""; // Önceki alt kategorileri temizle
                subCategoryDropdown.disabled = false; // Alt kategori seçilebilir hale gelsin

                // Yeni alt kategorileri ekle
                subCategories.forEach(function (subCategory) {
                    var option = document.createElement("option");
                    option.value = subCategory;
                    option.text = subCategory;
                    subCategoryDropdown.add(option);
                });
            }

            function clearSubCategories() {
                subCategoryDropdown.innerHTML = ""; // Alt kategorileri temizle
                subCategoryDropdown.disabled = true; // Alt kategori seçilemez hale gelsin
            }
        }

        document.getElementById("category").addEventListener("change", function () {
            var selectedCategory = this.value;
            updateSubCategories(selectedCategory);
        });

            // Buraya güncelleme butonuna tıklanınca çalışacak kodu ekleyebilirsiniz.
    </script>



    
    <div class="form-group mb-3">
        <label for="exampleInputEmail1">Adres</label>
        <input type="text" class="form-control" asp-for="Adres" />
    </div>
    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Email</label>
        <input type="email" class="form-control" asp-for="Mail" id="exampleFormControlInput1" placeholder="name@example.com">
    </div>

    <div class="input-group mb-3">
        <button type="submit" class="btn btn-success"> Güncelle </button>
    </div>

    
</form>
